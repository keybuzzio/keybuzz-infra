# Redis Sentinel Configuration for KeyBuzz v3 HA Cluster
# Generated by Ansible - DO NOT EDIT MANUALLY

port {{ sentinel_port }}
dir {{ sentinel_dir | default(redis_dir) }}

# Sentinel monitor configuration
# Use IP address instead of hostname for better reliability
sentinel monitor {{ sentinel_master_name }} {{ redis_master_ip }} {{ redis_master_port }} {{ sentinel_quorum }}

# Sentinel authentication
sentinel auth-pass {{ sentinel_master_name }} {{ redis_auth_password }}

# Sentinel configuration
sentinel down-after-milliseconds {{ sentinel_master_name }} {{ sentinel_down_after_milliseconds }}
sentinel failover-timeout {{ sentinel_master_name }} {{ sentinel_failover_timeout }}
sentinel parallel-syncs {{ sentinel_master_name }} {{ sentinel_parallel_syncs }}

# Sentinel notification (optional - uncomment if needed)
# sentinel notification-script {{ sentinel_master_name }} /path/to/notification.sh
# sentinel client-reconfig-script {{ sentinel_master_name }} /path/to/reconfig.sh

# Sentinel logging
loglevel notice
logfile ""

# Sentinel daemonization
daemonize no
pidfile /var/run/redis/redis-sentinel.pid

# Sentinel protected mode
protected-mode yes

