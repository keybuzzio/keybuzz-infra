# Vault Configuration for KeyBuzz v3
# Generated by Ansible - DO NOT EDIT MANUALLY

ui = {{ vault_ui_enabled | lower }}

# API listener
listener "tcp" {
  address       = "{{ vault_api_address }}"
  tls_cert_file = "{{ vault_tls_cert_file }}"
  tls_key_file  = "{{ vault_tls_key_file }}"
  tls_disable   = {{ (not vault_tls_enabled) | lower }}
}

# Cluster listener
cluster_addr = "{{ vault_cluster_addr }}"
api_addr     = "{{ vault_api_addr }}"

# Storage backend
storage "{{ vault_storage_backend }}" {
  path = "{{ vault_storage_path }}"
}

# Logging
log_level = "INFO"
log_file  = "{{ vault_log_dir }}/vault.log"
log_rotate_duration = "24h"
log_rotate_max_files = 30

# Performance
disable_mlock = {{ (not vault_mlock) | lower }}

# Cluster settings (for future HA)
cluster_name = "keybuzz-vault-cluster"

