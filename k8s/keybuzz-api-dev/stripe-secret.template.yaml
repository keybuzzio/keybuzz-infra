# PH12-STRIPE-01 - Stripe Secret Template
# NE PAS COMMITTER CE FICHIER AVEC DES VALEURS REELLES !
# 
# Instructions:
# 1. Copier ce fichier vers stripe-secret.yaml
# 2. Remplir les valeurs depuis le dashboard Stripe
# 3. Appliquer: kubectl apply -f stripe-secret.yaml
# 4. NE PAS COMMITTER stripe-secret.yaml
#
# Pour obtenir les Price IDs:
# 1. Aller sur https://dashboard.stripe.com/test/products
# 2. Creer les produits KeyBuzz (Starter, Pro, Autopilot)
# 3. Creer les prix (monthly et annual)
# 4. Copier les price_xxx IDs

apiVersion: v1
kind: Secret
metadata:
  name: keybuzz-stripe
  namespace: keybuzz-api-dev
type: Opaque
stringData:
  # Cle secrete Stripe (sk_test_xxx ou sk_live_xxx)
  STRIPE_SECRET_KEY: "sk_test_REPLACE_ME"
  
  # Webhook secret (whsec_xxx)
  STRIPE_WEBHOOK_SECRET: "whsec_REPLACE_ME"
  
  # Price IDs - Starter
  STRIPE_PRICE_STARTER_MONTHLY: "price_REPLACE_ME"
  STRIPE_PRICE_STARTER_ANNUAL: "price_REPLACE_ME"
  
  # Price IDs - Pro
  STRIPE_PRICE_PRO_MONTHLY: "price_REPLACE_ME"
  STRIPE_PRICE_PRO_ANNUAL: "price_REPLACE_ME"
  
  # Price IDs - Autopilot
  STRIPE_PRICE_AUTOPILOT_MONTHLY: "price_REPLACE_ME"
  STRIPE_PRICE_AUTOPILOT_ANNUAL: "price_REPLACE_ME"
  
  # Price IDs - Channel Add-on (+50 EUR/mois)
  STRIPE_PRICE_ADDON_CHANNEL_MONTHLY: "price_REPLACE_ME"
  STRIPE_PRICE_ADDON_CHANNEL_ANNUAL: "price_REPLACE_ME"

---
# Note: Pour utiliser ce secret dans le deployment, ajouter:
#
# spec:
#   containers:
#   - name: keybuzz-api
#     envFrom:
#     - secretRef:
#         name: keybuzz-stripe
#
# Ou utiliser des refs individuelles:
#
# env:
# - name: STRIPE_SECRET_KEY
#   valueFrom:
#     secretKeyRef:
#       name: keybuzz-stripe
#       key: STRIPE_SECRET_KEY
