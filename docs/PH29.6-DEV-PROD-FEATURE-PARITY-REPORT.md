# PH29.6 - DEV/PROD Feature Parity Report

## Date
2026-02-05

## Build Proof

### Client Images
| Env | Image Tag | Git Commit |
|-----|-----------|------------|
| PROD | menu-fr-ph28.26-2026-02-03 | 4229048 |
| DEV | prod-clone-dev-2026-02-05-v2 | 4229048 |

Status: Same codebase (commit 4229048)

### API Images
| Env | Image Tag |
|-----|-----------|
| PROD | ph30.1-octopia-2026-02-04c |
| DEV (before) | dev-idempotent-2026-02-02 |
| DEV (after) | ph29.6-octopia-dev-2026-02-05 |

## Feature 1: Octopia (Cdiscount)

### API Endpoint Test

PROD:
curl https://api.keybuzz.io/octopia/status?tenantId=ecomlg-001
Response: {connected:false, delegationInstructions:...}

DEV (before fix):
curl https://api-dev.keybuzz.io/octopia/status?tenantId=ecomlg-001
Response: 404 Not Found

DEV (after fix):
curl https://api-dev.keybuzz.io/octopia/status?tenantId=ecomlg-001
Response: {connected:false, delegationInstructions:...}

### Fix Applied
- Added import for octopiaRoutes in src/app.ts
- Registered route: app.register(octopiaRoutes, { prefix: /octopia })
- Built and deployed API image: ph29.6-octopia-dev-2026-02-05

Status: FIXED - DEV = PROD

## Feature 2: Aide IA - Contexte supplementaire

### Code Analysis
- Service ai.service.ts supports additionalContext parameter
- Component AIDecisionPanel.tsx does NOT expose this field in UI
- Same code in PROD and DEV (commit 4229048)

Status: NEEDS VISUAL VERIFICATION
- If PROD shows the field, code may have been modified after 4229048
- If PROD also lacks the field, both are at parity

## Validation Required

1. Visual comparison DEV vs PROD for:
   - Canaux page (Octopia visibility)
   - Messages > Aide IA panel

2. Network proof (DEV should NOT call api.keybuzz.io)

