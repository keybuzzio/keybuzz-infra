# RabbitMQ Configuration for KeyBuzz v3 HA Cluster
# Generated by Ansible - DO NOT EDIT MANUALLY

# Network listeners
listeners.tcp.default = 5672
management.tcp.port = 15672

# Cluster formation
cluster_formation.peer_discovery_backend = classic_config
cluster_formation.classic_config.nodes.1 = rabbit@{{ rabbitmq_cluster_nodes[0] }}
cluster_formation.classic_config.nodes.2 = rabbit@{{ rabbitmq_cluster_nodes[1] }}
cluster_formation.classic_config.nodes.3 = rabbit@{{ rabbitmq_cluster_nodes[2] }}

# Authentication
loopback_users = none
default_user = {{ rabbitmq_default_user }}
default_pass = {{ rabbitmq_password }}

# Performance
consumer_timeout = 300000
queue_master_locator = min-masters

# Logging
log.console = true
log.console.level = info

# Data directory
data_dir = /data/rabbitmq

# Quorum queues (default)
quorum_queues.default_quorum_initial_group_size = 3

